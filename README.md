# Установка

Перед тем, как запускать сервер, необходимо установить все зависимости.

Для этого выполни команду `yarn`.

# Настройка

1. Когда установка зависимостей завершилась, необходимо создать файл `.env`, вставив в этот новый файл всё содержимое из файла `.env.example`.
2. Теперь необходимо зарегистрироваться на сайте https://mongodb.com и скопировать ссылку на свою MongoDB базу данных.
3. Внутри файла `.env` есть строка `MONGODB_URI=XXX`, вместо `XXX` вставь ссылку на свою БД.

# Запуск

Для того чтобы запустить сам сервер, выполни команду `yarn start`. Теперь по адресу `http://localhost:5656` будет доступен сервер.

Ниже перечислены все доступные роуты.

# API документация (Apiary)

По адресу https://blogapi22.docs.apiary.io/ доступна вся документация по всем роутам с подробным объяснением того, что и как делает каждый роут.

Учитывай тот момент, что для создания статьи или комментария, тебе необходимо быть авторизованным. После произведения авторизации, бэкенд тебе в ответ вернёт `token`. Его необходимо передавать во все защищённые роуты внутри headers в свойство `Authorization`.

Вот пример запроса:
```js
axios.post(
  `http://localhost:5656/posts`,
  {
    title: "Заголовок статьи",
    text: "........",
  },
  {
    headers: {
      "Authorization": "ТУТ_ТОКЕН"
    }
  }
);
```

## Как пользоваться Apiariy?

1. Если ты хочешь тестировать запросы через сервис Apiary, то необходимо там переключится на "Use Browser", чтобы запросы не отправлялись через их сервис. Если не поменять, то всегда будет выдавать ошибку.
    ![](http://joxi.ru/L21a3a5cwMkjq2.png) <br/> <br/>
2. Чтобы отправить запрос, достаточно нажать на "Call Resource"
    ![](http://joxi.ru/zANLQLMt197o0m.png)
3. Если необходимо передать POST-параметры в запросе, то нажимаем на "Body" и указываем там JSON с параметрами.
    ![](http://joxi.ru/BA0ZaZQC1Dxbxm.png)

## Apiary сложный, есть ли что-то проще?
Да, можно скачать Postman (https://www.postman.com/) и через него отправлять запросы. 

Или же в своём приложении самим писать Axios-запросы и тестировать (но этот вариант не самый лёгкий).